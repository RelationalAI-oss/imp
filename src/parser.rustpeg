use runtime::{Direction};
use bootstrap::{Binding};

#[pub]
over_bindings -> Vec<(Binding, Direction)>
  = sort ++ (" "+)

sort -> (Binding, Direction)
  = d:sort_direction v:name { (Binding::Variable(v), d) }

sort_direction -> Direction
  = descending:"-"? {
    match descending {
      Some(_) => Direction::Descending,
      None    => Direction::Ascending
    }
  }

name -> String
  = "?" [A-Za-z0-9]+ { match_str.to_owned() }